sudo: false

branches:
  only: deploy

language: node_js

install:
  - git submodule -q update --init
  - npm install

script:
  - set -e
  - npm run lint
  - npm test
  - node ./scripts/prebuild

matrix:
  include:
    - os: osx
      osx_image: xcode12.5

    - os: linux
      compiler: clang

node_js:
  - '16'
